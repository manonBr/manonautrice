import React, { useEffect, useRef } from "react"
import "./Sketch.scss"

const Sketch = () => {
    const path = useRef()
    
    useEffect(() => {
        const pathLength = path.current.getTotalLength()
        let scrollPercentage = ""
        let drawLength = ""

        path.current.style.strokeDasharray = pathLength + ' ' + pathLength
        path.current.style.strokeDashoffset = pathLength

        window.addEventListener('scroll', () => {
            scrollPercentage = (document.documentElement.scrollTop + document.body.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight)
            drawLength = pathLength * (scrollPercentage / 2)
        
            path.current.style.strokeDashoffset = pathLength - drawLength
        })

    }, [])

    return (
        <div className="svgSketch">
            <svg viewBox="0 0 427.69 2100" fill="none" preserveAspectRatio="xMidYMax meet">
                <path d="M45.86,1.45q0,55.27.11,110.55c.05,18.71-.92,37,1.5,55.75,3.24,25.05,19,55.57,2.57,79.1C36.81,265.76,28.21,291,31.58,314.32c2.16,14.95,5.6,29.38,6.12,44.61.76,22.11-2.72,44-5.09,66-2.17,20.08-2.93,39.9-.08,59.94,3.32,23.38,6.81,44.78-1.17,67.68C25.6,569,17.08,584.77,15,602.38c-2.31,19.85,3.32,39.32,6.17,58.8,5.24,35.84,9.12,72.27,12.18,108.37,1.38,16.24,2.48,32.61,1.91,48.92-.36,10.42-.57,23.64-7.25,32.32l2.59,1.51c4.13-7.52,8.61-14,9.74-22.63,2.43-18.6-3.49-37.07-1.84-55.66,1.84-20.69,15.13-43,39.15-36.58,24.36,6.54,28.6,36,13.89,53.87-.71.86-.38,2.75,1.06,2.56,12-1.6,21.87,8.74,21.21,20.66-.64,11.68-9.6,21-19.27,26.43-15.7,8.75-36.19,12.43-53.69,15.58L42,859.27l1.83-1-1.52-2.59c-16.62,10.78-14.14,33.8-11.89,50.85,4.18,31.64,10.4,63.81,4.93,95.69l2.74-.35-.51-1.17c-.63-1.41-2.81-.64-2.8.75.09,9.68,0,19.34-3.81,28.39-3.23,7.63-8.49,14-12.71,21.11-5.21,8.72-8.87,18.58-5.43,28.63,5.95,17.38,28.73,27.2,45.53,20.07,18.72-7.95,25.32-31.71,20-50-4.59-15.94-27-38-42.89-20.72-6.7,7.31-4.6,17.57,2.62,23.64,11.58,9.72,26.91,4.15,39.05-1.28L75,1049.9a61.7,61.7,0,0,1-15.29,48.16c-8.41,9.29-23.44,13.61-24.92,27.61-.62,5.79.87,11.93,1.75,17.63l4.74,30.84,4.11,26.73c.73,4.8,1.53,9.59,2.21,14.4.32,2.22,1,4.66.89,6.91-.22,4.9-5.73,11.44-10.31,13.6-11.05,5.23-20.11,8.07-27.92,18.44a46.94,46.94,0,0,0-9.4,32.57c2,20.65,19.8,44.24,42.65,42.11,24.74-2.32,30.46-33.5,26.2-53.17-2.16-10-21.21-52-36.25-33.06-3.82,4.83-3.75,12.6-1,17.87,4.91,9.25,17,10.58,26.4,10.21,4.89-.2,6.1-.52,7,4.54.68,4-.24,9.1-.89,12.94a67.71,67.71,0,0,1-10.08,26c-7.81,11.83-17.57,20-17.05,35.29.6,17.59,10.17,34,14.86,50.74a111.94,111.94,0,0,1-.83,64.83c-6.3,20.66-16,40.25-24.76,59.94L.66,1584.49c-.62,1.41,1.18,3.25,2.36,1.81l69.7-85c.85-1,.1-3.06-1.46-2.5-10.85,3.91-19.59,13.34-26.37,22.33-5.68,7.5-12.42,17.35-11.56,27.26,1.08,12.39,10.73,23.36,16.29,34,8.39,16,10.91,36.51,10.64,54.36-.28,18.32-4.44,36.17-7.43,54.15-1.59,9.54-3.24,16.07-12.53,20.48-5.21,2.48-10.86,4.25-14.75,8.75-17.14,19.84,7.61,42.8,21.26,55.51,4.86,4.52,10.23,9,13.86,14.62,4.85,7.56,12.13,25.36,4,32.61-9.15,8.11-28.93,5.3-35-5.15-5.89-10.07,6.83-22,13-29q4.86-5.49,10.15-10.55c4-3.86,12.2-8.38,15-12.81,2.47-3.9,1.45-8.64-4.26-7.19-11.5,2.91-18.67,22-25.29,30.14-6.37,7.84-12.8,16-11.47,26.86,1.53,12.44,11,14.24,20,19.92,11.79,7.41,6.55,27.21,7.48,39.13,1.84,23.5,5.24,46.29,5.21,69.95q0,25.22-.07,50.42-.08,52.85-.14,105.7a1.5,1.5,0,0,0,3,0l.12-94.41c0-31.77,2.15-64.35-1-96-1.76-17.48-4.54-34.53-4.15-52.12.19-8.47.2-19.44-7.58-24.86-6-4.19-13.15-4.19-17.46-11.06-4.61-7.33-2.27-16.77,2-23.64,3.5-5.68,8.49-10.48,12.19-16.1,1.82-2.78,3.53-5.64,5.45-8.35,1.11-1.57,10.7-13.72,11.17-10.16.52,4-13,13-16.2,16.27A149.17,149.17,0,0,0,30,1799.68c-6.25,9.13-6.84,16.82,1.62,24.58,9.08,8.33,34,9.4,38.81-4.46,3.64-10.41-2.84-25.75-9.1-33.89-8.12-10.55-19.65-18.15-28.17-28.42-11.53-13.86-15.18-32.57,4-41.5,5.05-2.35,11.05-4.21,14.42-9s3.47-11.14,4.39-16.66c5.76-34.58,13.28-71.08-1.38-104.81-6.08-14-22.27-29.3-17-45.55,4.75-14.82,19.71-32.94,34.56-38.3l-1.46-2.51-69.7,85L3.25,1586c12.63-28.43,25.34-56.82,37.87-85.29,11.22-25.48,21.92-52.17,18.64-80.57-1.54-13.31-5.59-26.12-10.18-38.66-5.26-14.4-13-30.89-6.09-46,5-11,14.79-19,19.62-30.38a73.37,73.37,0,0,0,5.19-36.46c-.08-.74-.63-1.59-1.5-1.5-8,.8-16.74,1.81-24.17-1.73-8.34-4-14.78-20-2.13-22.69,9.6-2.08,17,10.92,20.84,18.47a64,64,0,0,1,6.78,26.58c.64,16.68-8.33,39-28.16,38.26-19.31-.74-33.62-20.17-35.93-37.9-2.12-16.28,5.35-32.25,18.54-41.83,7.65-5.55,23.09-6.15,27.73-15.24,2.3-4.5,1.16-9.76.46-14.5-1.42-9.61-2.95-19.2-4.43-28.79-2.78-18.14-6.76-36.49-8.28-54.77-1.19-14.21,7.32-18.73,16.88-26.38a62.13,62.13,0,0,0,13.69-15.45A64.35,64.35,0,0,0,78,1049.9a1.53,1.53,0,0,0-2.26-1.29c-7,3.15-14.83,6.54-22.75,6.26-11.39-.4-26.08-13.65-14.38-24.9,12.78-12.29,30.19,3.87,35.24,15.69,8.1,19,1.32,47.32-21.06,52.64-23.74,5.63-45.57-18.07-34.82-40.53,4.46-9.34,11.71-17.07,15.84-26.6s4.15-19.64,4.05-29.76l-2.79.76.51,1.17a1.52,1.52,0,0,0,2.75-.36c4.47-26.12,1.3-52.53-2.32-78.56-2.67-19.24-12.14-53.2,7.9-66.19a1.5,1.5,0,0,0-1.52-2.59l-1.82,1c-1.55.89-.45,3,1.16,2.75,23.19-4.19,57.59-8.85,70.82-31.32,9.19-15.61,1.13-40.05-19.87-37.25l1.06,2.56c10.93-13.28,13.81-33.49,2.46-47.59C85.57,732.69,65,729,51.35,739.42c-15.8,12-17,34.37-15.49,52.47,1.11,13.49,5.35,31.12.26,44.19-2,5.06-5.46,9.94-8.08,14.71-1,1.74,1.44,3,2.59,1.51,11.62-15.09,8.17-42.68,7.31-60.14-1.6-32.45-5.89-64.73-9.75-97-1.84-15.41-3.28-30.86-6-46.15-4.22-23.64-7-45.06,1.34-68.17,5.95-16.54,14.39-32.41,16-50.19,1.92-21.46-4.74-42.53-5.8-63.84C31.56,423.93,44.75,382,39,339c-1.57-11.71-5.43-23.42-5.13-35.31.39-15.52,5.14-34.06,13.18-47.36,4.77-7.88,10.09-13.51,11.77-22.91,2.33-13.07.66-25.34-2.29-38.08-3.52-15.24-5.94-29.16-6.81-44.77-.52-9.26-2.19-17.8-1.39-27.13,1.59-18.7.55-37.71.53-56.47q0-32.74,0-65.49a1.5,1.5,0,0,0-3,0Z" transform="translate(-0.53)" ref={path}/>
            </svg>
        </div>
    )
}

export default Sketch